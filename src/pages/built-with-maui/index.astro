---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getEntry, render } from 'astro:content';

const entry = await getEntry('built-with-maui', 'apps');

if (!entry) {
  throw new Error(
    'Missing built-with-maui content. Run `npm run fetch:built-with-maui` before building.'
  );
}

const { Content } = await render(entry);
const sourceRepoUrl = 'https://github.com/jfversluis/built-with-maui';
---

<BaseLayout
  title="Built with MAUI | MAUIverse"
  description="A list of real-world apps built with .NET MAUI."
  allowPageScroll={true}
>
  <section class="min-h-screen py-24 md:py-32 relative z-10">
    <div class="container mx-auto max-w-6xl px-6">
      <div class="page-hero !px-0 !text-left">
        <h1 class="text-gradient">Built with MAUI</h1>
        <p class="subtitle !mx-0">
          Real-world apps built with .NET MAUI.
          <a
            href={sourceRepoUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="font-semibold text-brand hover:underline"
          >
            Add yours &rarr;
          </a>
        </p>
      </div>

      <div class="divider-gradient mb-12"></div>

      <article class="reveal prose dark:prose-invert max-w-none prose-a:text-brand hover:prose-a:underline prose-headings:text-brand-dark prose-headings:font-header prose-img:rounded-xl">
        <Content />
      </article>
    </div>
  </section>
</BaseLayout>
